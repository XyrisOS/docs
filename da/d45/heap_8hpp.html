<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xyris: heap.hpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xyris
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('da/d45/heap_8hpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">heap.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for heap.hpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d6/d0e/heap_8hpp__incl.png" border="0" usemap="#heap_8hpp" alt=""/></div>
<map name="heap_8hpp" id="heap_8hpp">
<area shape="rect" title="Liballoc heap implementation." alt="" coords="5,5,88,32"/>
<area shape="rect" title=" " alt="" coords="9,80,84,107"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d7/d0e/heap_8hpp__dep__incl.png" border="0" usemap="#heap_8hppdep" alt=""/></div>
<map name="heap_8hppdep" id="heap_8hppdep">
<area shape="rect" title="Liballoc heap implementation." alt="" coords="1592,5,1675,32"/>
<area shape="rect" href="../../d6/d99/graphics_8cpp.html" title="Graphics management and control." alt="" coords="5,379,109,405"/>
<area shape="rect" href="../../d4/dc7/rs232_8cpp.html" title=" " alt="" coords="1987,379,2072,405"/>
<area shape="rect" href="../../d2/dd2/entry_8cpp.html" title="The entry point into the Xyris kernel." alt="" coords="134,379,215,405"/>
<area shape="rect" href="../../d0/dbb/mutex_8cpp.html" title=" " alt="" coords="1232,304,1323,331"/>
<area shape="rect" href="../../da/d20/semaphore_8cpp.html" title=" " alt="" coords="1423,304,1545,331"/>
<area shape="rect" href="../../d5/d24/string_8cpp.html" title="Standard string and memory utility library." alt="" coords="1671,80,1758,107"/>
<area shape="rect" href="../../d1/d75/paging_8hpp.html" title=" " alt="" coords="951,80,1046,107"/>
<area shape="rect" href="../../d5/d9d/tasks_8cpp.html" title=" " alt="" coords="2097,379,2181,405"/>
<area shape="rect" href="../../d1/dd1/cxx_8cpp.html" title="C++ dynamic memory management functions." alt="" coords="1884,80,1956,107"/>
<area shape="rect" href="../../d4/d88/_handoff_8cpp.html" title=" " alt="" coords="1862,379,1962,405"/>
<area shape="rect" href="../../de/d90/heap_8cpp.html" title="Liballoc heap implementation." alt="" coords="867,304,949,331"/>
<area shape="rect" href="../../d1/d5e/paging_8cpp.html" title=" " alt="" coords="1744,379,1837,405"/>
<area shape="rect" href="../../d2/dbd/tasks_8hpp.html" title=" " alt="" coords="999,155,1084,181"/>
<area shape="rect" href="../../d9/d55/trace_8cpp.html" title="Kernel stack tracing." alt="" coords="240,379,323,405"/>
<area shape="rect" href="../../d0/dde/primes_8cpp.html" title="Prime computation tasks." alt="" coords="347,379,442,405"/>
<area shape="rect" href="../../d8/da6/mutex_8hpp.html" title=" " alt="" coords="1062,229,1154,256"/>
<area shape="rect" href="../../d1/d5a/semaphore_8hpp.html" title=" " alt="" coords="1423,229,1545,256"/>
<area shape="rect" href="../../d2/daf/stdio_8hpp.html" title=" " alt="" coords="1024,304,1107,331"/>
<area shape="rect" href="../../df/d57/spinner_8cpp.html" title="Kernel spinner task." alt="" coords="677,379,773,405"/>
<area shape="rect" href="../../d7/de6/gdt_8cpp.html" title="The Global Descriptor Table (GDT) is specific to the IA32 architecture. It contains entries telling t..." alt="" coords="798,379,869,405"/>
<area shape="rect" href="../../d9/d87/idt_8cpp.html" title=" " alt="" coords="893,379,960,405"/>
<area shape="rect" href="../../d3/d68/isr_8cpp.html" title=" " alt="" coords="984,379,1048,405"/>
<area shape="rect" href="../../d6/d1e/panic_8cpp.html" title="A set of panic functions that are called when the kernel encounters an error from which it cannot rec..." alt="" coords="1073,379,1157,405"/>
<area shape="rect" href="../../dc/de5/timer_8cpp.html" title="Programmable Interrupt Timer driver functions." alt="" coords="1181,379,1264,405"/>
<area shape="rect" href="../../d4/d85/_arguments_8cpp.html" title=" " alt="" coords="1288,379,1408,405"/>
<area shape="rect" href="../../d9/dda/console_8cpp.html" title="Framebuffer console." alt="" coords="1432,379,1531,405"/>
<area shape="rect" href="../../dd/d53/font_8cpp.html" title=" " alt="" coords="1555,379,1629,405"/>
<area shape="rect" href="../../dd/d82/rtc_8cpp.html" title=" " alt="" coords="1653,379,1720,405"/>
<area shape="rect" href="../../d4/d64/printf_8cpp.html" title="A printf implementation released under the public domain." alt="" coords="467,379,549,405"/>
<area shape="rect" href="../../de/daf/time_8cpp.html" title=" " alt="" coords="574,379,653,405"/>
</map>
</div>
</div>
<p><a href="../../da/d45/heap_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8b5670e4594b0b6f8be78fe17f0c3b53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#a8b5670e4594b0b6f8be78fe17f0c3b53">liballoc_lock</a> ()</td></tr>
<tr class="separator:a8b5670e4594b0b6f8be78fe17f0c3b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc23f198b2882d41d0caa316453967b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#aedc23f198b2882d41d0caa316453967b">liballoc_unlock</a> ()</td></tr>
<tr class="separator:aedc23f198b2882d41d0caa316453967b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17a7bc03af86f215d779f1798aed8e8"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#ac17a7bc03af86f215d779f1798aed8e8">liballoc_alloc</a> (unsigned int)</td></tr>
<tr class="separator:ac17a7bc03af86f215d779f1798aed8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18d86433f6454a9b2b4d7316c640525"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#af18d86433f6454a9b2b4d7316c640525">liballoc_free</a> (void *, unsigned int)</td></tr>
<tr class="separator:af18d86433f6454a9b2b4d7316c640525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8580582aae58105f16108d4ec89e9a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#a1c8580582aae58105f16108d4ec89e9a">malloc</a> (size_t)</td></tr>
<tr class="separator:a1c8580582aae58105f16108d4ec89e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa148085b6fa9594b4c35e100d94a183"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#afa148085b6fa9594b4c35e100d94a183">realloc</a> (void *, size_t)</td></tr>
<tr class="separator:afa148085b6fa9594b4c35e100d94a183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e880b1033d5a912be4333fc5d31eef"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#a77e880b1033d5a912be4333fc5d31eef">calloc</a> (size_t, size_t)</td></tr>
<tr class="separator:a77e880b1033d5a912be4333fc5d31eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07d89f5ceaea0c7c8252cc41fd75f37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d45/heap_8hpp.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a> (void *)</td></tr>
<tr class="separator:af07d89f5ceaea0c7c8252cc41fd75f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Liballoc heap implementation. </p>
<dl class="section author"><dt>Author</dt><dd>Keeton Feavel (<a href="#" onclick="location.href='mai'+'lto:'+'kee'+'to'+'nfe'+'av'+'el@'+'ce'+'dar'+'vi'+'lle'+'.e'+'du'; return false;">keeto<span style="display: none;">.nosp@m.</span>nfea<span style="display: none;">.nosp@m.</span>vel@c<span style="display: none;">.nosp@m.</span>edar<span style="display: none;">.nosp@m.</span>ville<span style="display: none;">.nosp@m.</span>.edu</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.3 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019-11-22</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright the Xyris Contributors (c) 2019 Code shamelessly taken from the OSDev Wiki. The article can be found at the link below.</dd></dl>
<p><a href="https://wiki.osdev.org/User:Mrvn/LinkedListBucketHeapImplementation">https://wiki.osdev.org/User:Mrvn/LinkedListBucketHeapImplementation</a> </p>

<p class="definition">Definition in file <a class="el" href="../../da/d45/heap_8hpp_source.html">heap.hpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a77e880b1033d5a912be4333fc5d31eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77e880b1033d5a912be4333fc5d31eef">&#9670;&nbsp;</a></span>calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* calloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af07d89f5ceaea0c7c8252cc41fd75f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af07d89f5ceaea0c7c8252cc41fd75f37">&#9670;&nbsp;</a></span>free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d45/heap_8hpp_af07d89f5ceaea0c7c8252cc41fd75f37_icgraph.png" border="0" usemap="#da/d45/heap_8hpp_af07d89f5ceaea0c7c8252cc41fd75f37_icgraph" alt=""/></div>
<map name="da/d45/heap_8hpp_af07d89f5ceaea0c7c8252cc41fd75f37_icgraph" id="da/d45/heap_8hpp_af07d89f5ceaea0c7c8252cc41fd75f37_icgraph">
<area shape="rect" title=" " alt="" coords="185,31,233,57"/>
<area shape="rect" href="../../d1/dd1/cxx_8cpp.html#a86107594327f3a001230df9802cd4422" title=" " alt="" coords="10,5,133,32"/>
<area shape="rect" href="../../d1/dd1/cxx_8cpp.html#aaa8d8403dca7d813a59dd1f07728349d" title=" " alt="" coords="5,56,137,83"/>
</map>
</div>

</div>
</div>
<a id="ac17a7bc03af86f215d779f1798aed8e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17a7bc03af86f215d779f1798aed8e8">&#9670;&nbsp;</a></span>liballoc_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* liballoc_alloc </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the hook into the local system which allocates pages. It accepts an integer parameter which is the number of pages required. The page size was set up in the liballoc_init function. </p>
<dl class="section return"><dt>Returns</dt><dd>NULL if the pages were not allocated. </dd>
<dd>
A pointer to the allocated memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d90/heap_8cpp_source.html#l00047">47</a> of file <a class="el" href="../../de/d90/heap_8cpp_source.html">heap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d1/d5e/paging_8cpp.html#a1f827ef8d99028d46133fb5ca4f9c89a">get_new_page</a>(count * <a class="code" href="../../d1/d75/paging_8hpp.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> - 1);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d45/heap_8hpp_ac17a7bc03af86f215d779f1798aed8e8_cgraph.png" border="0" usemap="#da/d45/heap_8hpp_ac17a7bc03af86f215d779f1798aed8e8_cgraph" alt=""/></div>
<map name="da/d45/heap_8hpp_ac17a7bc03af86f215d779f1798aed8e8_cgraph" id="da/d45/heap_8hpp_ac17a7bc03af86f215d779f1798aed8e8_cgraph">
<area shape="rect" title="This is the hook into the local system which allocates pages. It accepts an integer parameter which i..." alt="" coords="5,5,112,32"/>
<area shape="rect" href="../../d1/d5e/paging_8cpp.html#a1f827ef8d99028d46133fb5ca4f9c89a" title="Returns a new page in memory for use." alt="" coords="160,5,276,32"/>
</map>
</div>

</div>
</div>
<a id="af18d86433f6454a9b2b4d7316c640525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18d86433f6454a9b2b4d7316c640525">&#9670;&nbsp;</a></span>liballoc_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int liballoc_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This frees previously allocated memory. The void* parameter passed to the function is the exact same value returned from a previous liballoc_alloc call. </p>
<p>The integer value is the number of pages to free.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if the memory was successfully freed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d90/heap_8cpp_source.html#l00055">55</a> of file <a class="el" href="../../de/d90/heap_8cpp_source.html">heap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../d1/d5e/paging_8cpp.html#ac697ce3c1269d13f947a83e69c6c7e70">free_page</a>(page, count * <a class="code" href="../../d1/d75/paging_8hpp.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a> - 1);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d45/heap_8hpp_af18d86433f6454a9b2b4d7316c640525_cgraph.png" border="0" usemap="#da/d45/heap_8hpp_af18d86433f6454a9b2b4d7316c640525_cgraph" alt=""/></div>
<map name="da/d45/heap_8hpp_af18d86433f6454a9b2b4d7316c640525_cgraph" id="da/d45/heap_8hpp_af18d86433f6454a9b2b4d7316c640525_cgraph">
<area shape="rect" title="This frees previously allocated memory. The void* parameter passed to the function is the exact same ..." alt="" coords="5,5,108,32"/>
<area shape="rect" href="../../d1/d5e/paging_8cpp.html#ac697ce3c1269d13f947a83e69c6c7e70" title="Frees pages starting at a given page address." alt="" coords="156,5,243,32"/>
</map>
</div>

</div>
</div>
<a id="a8b5670e4594b0b6f8be78fe17f0c3b53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5670e4594b0b6f8be78fe17f0c3b53">&#9670;&nbsp;</a></span>liballoc_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int liballoc_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is supposed to lock the memory data structures. It could be as simple as disabling interrupts or acquiring a spinlock. It's up to you to decide. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if the lock was acquired successfully. Anything else is failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d90/heap_8cpp_source.html#l00025">25</a> of file <a class="el" href="../../de/d90/heap_8cpp_source.html">heap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">int</span> old_errno = <a class="code" href="../../d1/db0/errno_8cpp.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordtype">int</span> result = lock.<a class="code" href="../../d4/de8/class_mutex.html#aa732ae651974555965dcaf9ad9e87882">Lock</a>();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../d1/db0/errno_8cpp.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = old_errno;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aedc23f198b2882d41d0caa316453967b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc23f198b2882d41d0caa316453967b">&#9670;&nbsp;</a></span>liballoc_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int liballoc_unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function unlocks what was previously locked by the liballoc_lock function. If it disabled interrupts, it enables interrupts. If it had acquiried a spinlock, it releases the spinlock. etc. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if the lock was successfully released. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d90/heap_8cpp_source.html#l00036">36</a> of file <a class="el" href="../../de/d90/heap_8cpp_source.html">heap.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">int</span> old_errno = <a class="code" href="../../d1/db0/errno_8cpp.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">int</span> result = lock.<a class="code" href="../../d4/de8/class_mutex.html#a669f7a1dd7992948b397726e5d187a39">Unlock</a>();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../d1/db0/errno_8cpp.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a> = old_errno;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c8580582aae58105f16108d4ec89e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8580582aae58105f16108d4ec89e9a">&#9670;&nbsp;</a></span>malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../da/d45/heap_8hpp_a1c8580582aae58105f16108d4ec89e9a_icgraph.png" border="0" usemap="#da/d45/heap_8hpp_a1c8580582aae58105f16108d4ec89e9a_icgraph" alt=""/></div>
<map name="da/d45/heap_8hpp_a1c8580582aae58105f16108d4ec89e9a_icgraph" id="da/d45/heap_8hpp_a1c8580582aae58105f16108d4ec89e9a_icgraph">
<area shape="rect" title=" " alt="" coords="172,81,239,108"/>
<area shape="rect" href="../../d6/d9b/namespace_graphics.html#a07a66de579f4136325cb15218dd71110" title="Initializes the framebuffer (if available)" alt="" coords="11,5,119,32"/>
<area shape="rect" href="../../d1/dd1/cxx_8cpp.html#a205ed048fdf5259c2e8e0cb60ee8f719" title=" " alt="" coords="11,56,119,83"/>
<area shape="rect" href="../../d1/dd1/cxx_8cpp.html#a63ce4f64887b9307317aee5baae6b18f" title=" " alt="" coords="5,107,124,133"/>
<area shape="rect" href="../../d2/dbd/tasks_8hpp.html#a65c4921579a6bad97c037bc8db69fb26" title="Creates a new kernel task with a provided entry point, register storage struct, and task state struct..." alt="" coords="19,157,110,184"/>
</map>
</div>

</div>
</div>
<a id="afa148085b6fa9594b4c35e100d94a183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa148085b6fa9594b4c35e100d94a183">&#9670;&nbsp;</a></span>realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="apaging_8hpp_html_a7d467c1d283fdfa1f2081ba1e0d01b6e"><div class="ttname"><a href="../../d1/d75/paging_8hpp.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a></div><div class="ttdeci">#define PAGE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d75/paging_8hpp_source.html#l00026">paging.hpp:26</a></div></div>
<div class="ttc" id="aclass_mutex_html_a669f7a1dd7992948b397726e5d187a39"><div class="ttname"><a href="../../d4/de8/class_mutex.html#a669f7a1dd7992948b397726e5d187a39">Mutex::Unlock</a></div><div class="ttdeci">int Unlock()</div><div class="ttdoc">Unlocks a mutex for others to use.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dbb/mutex_8cpp_source.html#l00060">mutex.cpp:60</a></div></div>
<div class="ttc" id="apaging_8cpp_html_a1f827ef8d99028d46133fb5ca4f9c89a"><div class="ttname"><a href="../../d1/d5e/paging_8cpp.html#a1f827ef8d99028d46133fb5ca4f9c89a">get_new_page</a></div><div class="ttdeci">void * get_new_page(uint32_t size)</div><div class="ttdoc">Returns a new page in memory for use.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5e/paging_8cpp_source.html#l00222">paging.cpp:222</a></div></div>
<div class="ttc" id="aclass_mutex_html_aa732ae651974555965dcaf9ad9e87882"><div class="ttname"><a href="../../d4/de8/class_mutex.html#aa732ae651974555965dcaf9ad9e87882">Mutex::Lock</a></div><div class="ttdeci">int Lock()</div><div class="ttdoc">Locks a provided mutex. This call will block if the mutex is already locked.</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/dbb/mutex_8cpp_source.html#l00038">mutex.cpp:38</a></div></div>
<div class="ttc" id="apaging_8cpp_html_ac697ce3c1269d13f947a83e69c6c7e70"><div class="ttname"><a href="../../d1/d5e/paging_8cpp.html#ac697ce3c1269d13f947a83e69c6c7e70">free_page</a></div><div class="ttdeci">void free_page(void *page, uint32_t size)</div><div class="ttdoc">Frees pages starting at a given page address.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5e/paging_8cpp_source.html#l00236">paging.cpp:236</a></div></div>
<div class="ttc" id="aerrno_8cpp_html_ad65a8842cc674e3ddf69355898c0ecbf"><div class="ttname"><a href="../../d1/db0/errno_8cpp.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a></div><div class="ttdeci">int errno</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/errno_8cpp_source.html#l00015">errno.cpp:15</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="../../dir_539c600d05e734858cfd9a589845008d.html">mem</a></li><li class="navelem"><a class="el" href="../../da/d45/heap_8hpp.html">heap.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
